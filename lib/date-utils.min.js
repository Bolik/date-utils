(function(){function b(a,b){for(a=String(a);a.length<b;)a="0"+a;return a}var e=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],f=["January","February","March","April","May","June","July","August","September","October","November","December"],g={su:0,sun:0,sunday:0,mo:1,mon:1,monday:1,tu:2,tue:2,tuesday:2,we:3,wed:3,wednesday:3,th:4,thu:4,thursday:4,fr:5,fri:5,friday:5,sa:6,sat:6,saturday:6},h={jan:0,january:0,feb:1,february:1,mar:2,march:2,apr:3,april:3,may:4,jun:5,june:5,
jul:6,july:6,aug:7,august:7,sep:8,september:8,oct:9,october:9,nov:10,november:10,dec:11,december:11},i=[31,28,31,30,31,30,31,31,30,31,30,31],j=Date.parse;Date.parse=function(a){var b=j(a),d=0,c;if(isNaN(b)&&(c=/^(\d{4}|[+\-]\d{6})-(\d{2})-(\d{2})(?:[T ](\d{2}):(\d{2})(?::(\d{2})(?:\.(\d{3,}))?)?(?:(Z)|([+\-])(\d{2})(?::?(\d{2}))?))?/.exec(a)))c[8]!=="Z"&&(d=+c[10]*60+ +c[11],c[9]==="+"&&(d=0-d)),b=Date.UTC(+c[1],+c[2]-1,+c[3],+c[4],+c[5]+d,+c[6],+c[7].substr(0,3));return b};Date.today=function(){return(new Date).clearTime()};
Date.tomorrow=function(){return Date.today().add({days:1})};Date.yesterday=function(){return Date.today().add({days:-1})};Date.validateDay=function(a,b,d){var c=new Date(b,d,a);return c.getFullYear()===b&&c.getMonth()===d&&c.getDate()===a};Date.validateYear=function(a){return a>=0&&a<=9999};Date.validateSecond=function(a){return a>=0&&a<60};Date.validateMonth=function(a){return a>=0&&a<12};Date.validateMinute=function(a){return a>=0&&a<60};Date.validateMillisecond=function(a){return a>=0&&a<1E3};
Date.validateHour=function(a){return a>=0&&a<24};Date.compare=function(a,b){if(a.valueOf()<b.valueOf())return-1;else if(a.valueOf()>b.valueOf())return 1;return 0};Date.equals=function(a,b){return a.valueOf()===b.valueOf()};Date.getDayNumberFromName=function(a){return g[a.toLowerCase()]};Date.getMonthNumberFromName=function(a){return h[a.toLowerCase()]};Date.isLeapYear=function(a){return(new Date(a,1,29)).getDate()===29};Date.getDaysInMonth=function(a,b){if(b===1)return Date.isLeapYear(a)?29:28;return i[b]};
if(Date.prototype.getMonthAbbr===void 0)Date.prototype.getMonthAbbr=function(){return e[this.getMonth()]};if(Date.prototype.getMonthName===void 0)Date.prototype.getMonthName=function(){return f[this.getMonth()]};if(Date.prototype.getUTCOffset===void 0)Date.prototype.getUTCOffset=function(){var a=b(Math.abs(this.getTimezoneOffset()/0.6),4);this.getTimezoneOffset()>0&&(a="-"+a);return a};if(Date.prototype.toCLFString===void 0)Date.prototype.toCLFString=function(){return b(this.getDate(),2)+"/"+this.getMonthAbbr()+
"/"+this.getFullYear()+":"+b(this.getHours(),2)+":"+b(this.getMinutes(),2)+":"+b(this.getSeconds(),2)+" "+this.getUTCOffset()};if(Date.prototype.toYMD===void 0)Date.prototype.toYMD=function(a){a=a||"-";return this.getFullYear()+a+b(this.getMonth()+1,2)+a+b(this.getDate(),2)};if(Date.prototype.toDBString===void 0)Date.prototype.toDBString=function(){return this.getUTCFullYear()+"-"+b(this.getUTCMonth()+1,2)+"-"+b(this.getUTCDate(),2)+" "+b(this.getUTCHours(),2)+":"+b(this.getUTCMinutes(),2)+":"+b(this.getUTCSeconds(),
2)};if(Date.prototype.clearTime===void 0)Date.prototype.clearTime=function(){this.setHours(0);this.setMinutes(0);this.setSeconds(0);this.setMilliseconds(0);return this};if(Date.prototype.add===void 0)Date.prototype.add=function(a){a.milliseconds!==void 0&&this.setMilliseconds(this.getMilliseconds()+a.milliseconds);a.seconds!==void 0&&this.setSeconds(this.getSeconds()+a.seconds);a.minutes!==void 0&&this.setMinutes(this.getMinutes()+a.minutes);a.hours!==void 0&&this.setHours(this.getHours()+a.hours);
a.days!==void 0&&this.setDate(this.getDate()+a.days);a.months!==void 0&&this.setMonth(this.getMonth()+a.months);a.years!==void 0&&this.setFullYear(this.getFullYear()+a.years);return this};if(Date.prototype.addMilliseconds===void 0)Date.prototype.addMilliseconds=function(a){return this.add({milliseconds:a})};if(Date.prototype.addSeconds===void 0)Date.prototype.addSeconds=function(a){return this.add({seconds:a})};if(Date.prototype.addMinutes===void 0)Date.prototype.addMinutes=function(a){return this.add({minutes:a})};
if(Date.prototype.addHours===void 0)Date.prototype.addHours=function(a){return this.add({hours:a})};if(Date.prototype.addDays===void 0)Date.prototype.addDays=function(a){return this.add({days:a})};if(Date.prototype.addWeeks===void 0)Date.prototype.addWeeks=function(a){return this.add({days:a*7})};if(Date.prototype.addMonths===void 0)Date.prototype.addMonths=function(a){return this.add({months:a})};if(Date.prototype.addYears===void 0)Date.prototype.addYears=function(a){return this.add({years:a})};
if(Date.prototype.setTimeToNow===void 0)Date.prototype.setTimeToNow=function(){var a=new Date;this.setMilliseconds(a.getMilliseconds());this.setSeconds(a.getSeconds());this.setMinutes(a.getMinutes());this.setHours(a.getHours())};if(Date.prototype.clone===void 0)Date.prototype.clone=function(){return new Date(this.valueOf())};if(Date.prototype.between===void 0)Date.prototype.between=function(a,b){return this.valueOf()>=a.valueOf()&&this.valueOf()<=b.valueOf()};if(Date.prototype.compareTo===void 0)Date.prototype.compareTo=
function(a){return Date.compare(this,a)};if(Date.prototype.equals===void 0)Date.prototype.equals=function(a){return Date.equals(this,a)};if(Date.prototype.isAfter===void 0)Date.prototype.isAfter=function(a){a=a?a:new Date;return this.compareTo(a)>0};if(Date.prototype.isBefore===void 0)Date.prototype.isBefore=function(a){a=a?a:new Date;return this.compareTo(a)<0};if(Date.prototype.getDaysBetween===void 0)Date.prototype.getDaysBetween=function(a){return(a.clone().valueOf()-this.valueOf())/864E5|0};
if(Date.prototype.getOrdinalNumber===void 0)Date.prototype.getOrdinalNumber=function(){return(new Date(this.getFullYear(),0,0)).getDaysBetween(this)+1};if(Date.prototype.toFormat===void 0)Date.prototype.toFormat=function(a){a=a.replace("YYYY",this.getFullYear());a=a.replace("YY",String(this.getFullYear()).slice(-2));a=a.replace("MM",b(this.getMonth()+1,2));a=a.replace("DD",b(this.getDate(),2));a=a.replace("HH24",b(this.getHours(),2));a=a.replace("HH",b(this.getHours()%12,2));a=a.replace("MI",b(this.getMinutes(),
2));return a=a.replace("SS",b(this.getSeconds(),2))}})();